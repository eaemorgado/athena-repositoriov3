<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/anunciar.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

    <title>Anunciar - Athena Shop</title>
</head>

<body>
    <header>

    </header>

    <main>
        <h1></h1>

        <section class="sec-img-add">
            <div>
                <form id="imageForm" enctype="multipart/form-data">
                    <input type="file" id="imageInput" accept="image/*" onchange="displayImage()" required>
                    <img id="previewImage" src="#" alt="Imagem selecionada" style="display: none; max-width: 100%;">
                    <p id="errorMessage" style="color: red;"></p>
                    <button type="submit">Enviar</button>
                </form>
            </div>
            <script>
                function displayImage() {
                    const fileInput = document.getElementById("imageInput");
                    const previewImage = document.getElementById("previewImage");
                    const errorMessage = document.getElementById("errorMessage");

                    const file = fileInput.files[0];

                    if (file) {
                        if (file.size > 100 * 1024) { // 90KB em bytes
                            errorMessage.textContent = "A imagem selecionada excede o limite de tamanho de 90KB.";
                            previewImage.style.display = "none";
                        } else {
                            errorMessage.textContent = "";
                            const reader = new FileReader();
                            reader.onload = function (e) {
                                previewImage.src = e.target.result;
                                previewImage.style.display = "block";
                            };
                            reader.readAsDataURL(file);
                        }
                    } else {
                        errorMessage.textContent = "";
                        previewImage.style.display = "none";
                    }
                }
            </script>

            <div>
                <form action="/publicarproduto" method="post">

                    <section class="sec1-desc">

                        <div>
                            <h4>Nome</h4>
                            <input type="text" name="nome_produto">
                        </div>

                        <div>
                            <h4>Descrição</h4>
                            <input type="text" name="descricao_produto">
                        </div>

                        <div>
                            <h4>Quantidade disponivel</h4>
                            <input type="number" value="0" name="quantidade_produto">
                            <p>(Vender produtos que estão fora de estoque é crime)</p>
                        </div>

                    </section>
                    <section class="sec2-desc">

                        <div>
                            <h4>Cores</h4>
                            <select id="Cores" name="cores_produto">
                                <option value="Vermelho">Vermelho</option>
                                <option value="Vermelho-alaranjado">Vermelho-alaranjado</option>
                                <option value="Laranja">Laranja</option>
                                <option value="Laranja-amarelado">Laranja-amarelado</option>
                                <option value="Amarelo">Amarelo</option>
                                <option value="Amarelo-verde">Amarelo-verde</option>
                                <option value="Verde">Verde</option>
                                <option value="Verde-azulado">Verde-azulado</option>
                                <option value="Azul">Azul</option>
                                <option value="Azul">Azul-roxo</option>
                                <option value="Roxo">Roxo</option>
                                <option value="Violeta">Violeta</option>
                                <option value="Rosa">Rosa</option>
                                <option value="Preto">Preto</option>
                                <option value="Branco">Branco</option>
                            </select>
                        </div>

                        <div>
                            <h4>Preço</h4>
                            <input type="text" name="preco_produto">
                        </div>

                    </section>
                    
                    <input type="submit" value="Publicar"> 
                </form>
            </div>
        </section>

    </main>
</body>

</html>